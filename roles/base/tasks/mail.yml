- name: add ssh key for simone
  authorized_key:
    user: simone
    key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEs/MSCpigE7iFkLu8etRUAFKwB4Db1bXVEGT5NKwUHE ansible_key"

- name: add ssh key for simone
  authorized_key:
    user: simone
    key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEs/MSCpigE7iFkLu8etRUAFKwB4Db1bXVEGT5NKwUHE ansible_key"

- name: install tmux vim qemu-guest-agent zsh
  package:
    name: 
      - tmux
      - vim
      - qemu-guest-agent
      - zsh
      - iputils-ping
      - htop
      - neovim
    state: latest
  when: ansible_distribution == "Ubuntu"

- name: copy tmux config
  copy:
    src: tmux.conf
    dest: /home/chris/.tmux.conf
    owner: chris
    group: chris
    mode: 0644

- name: change user 'chris' to zsh shell
  tags: bootstrap,zsh
  ansible.builtin.user:
    name: chris
    shell: /bin/zsh

- name: change user 'root' to zsh shell
  tags: bootstrap,zsh
  ansible.builtin.user:
    name: root
    shell: /bin/zsh

- name: copy ~/zshrc config
  tags: bootstrap,zsh
  copy:
    src: zshrc_home
    dest: /home/chris/.zshrc
    owner: chris
    group: chris
    mode: 0644

- name: copy ~/zshrc config root
  tags: bootstrap,zsh
  copy:
    src: zshrc_home
    dest: /root/.zshrc
    owner: root
    group: root
    mode: 0644

- name: copy ~/zshrc.local config
  tags: bootstarp,zsh
  copy:
    src: zshrc.local
    dest: /home/chris/.zshrc.local
    owner: chris
    group: chris
    mode: 0644

- name: create neovim config dir
  tags: bootstrap,neovim
  ansible.builtin.file:
    path: /home/chris/.config/nvim
    state: directory
    owner: chris
    group: chris
    mode: 0700

- name: copy neovim config
  tags: bootstrap,neovim
  copy:
    src: init.vim
    dest: /home/chris/.config/nvim/init.vim
    owner: chris
    group: chris
    mode: 0644
